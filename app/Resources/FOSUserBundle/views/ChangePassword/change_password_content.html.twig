{% trans_default_domain 'FOSUserBundle' %}
{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('template/bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ asset('template/bower_components/font-awesome/css/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{ asset('template/bower_components/Ionicons/css/ionicons.min.css') }}">
    <link rel="stylesheet" href="{{ asset('template/dist/css/AdminLTE.min.css') }}">
    <link rel="stylesheet" href="{{ asset('template/dist/css/skins/_all-skins.min.css') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
{% endblock %}
<div class="row">
    <!-- left column -->
    <div class="col-md-6">
        <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Changer votre mot de passe</h3>
            </div>
            <!-- form start -->
            {{ form_start(form, { 'action': path('fos_user_change_password'), 'attr': { 'class': 'fos_user_change_password' } }) }}


            <!-- mot de passe actuel-->
            <!-- Ceci pour que le champ devienne en rouge si le contenu est faux -->
            {% set class='' %}
            {% if not form.current_password.vars.valid %}
                {% set class="has-error" %}
            {% endif %}
            <!--/erreur-->
            <div class="box-body">
                <div class="form-group {{class}}">
                    <label class="control-label" for="{{form.current_password.vars.id}}">Mot de passe actuel</label>
                    <input type="password" class="form-control" id="{{form.current_password.vars.id}}" name="{{ form.current_password.vars.full_name}}" value="_password" placeholder="Entrer mot de passe" required>

                    {% do form.current_password.setRendered %}
                    {% if not form.current_password.vars.valid %}
                        {% for error in form.current_password.vars.errors %}
                            <span class="help-block">{{ error.message }}</span>
                        {% endfor %}
                    {% endif%}
                </div>
            </div>
            <!--/mot de passe actuel-->

            <!-- Mot de passe -->
            <!-- Ceci pour que le champ devienne en rouge si le contenu est faux -->
            {% set class='' %}
            {% if not form.plainPassword.first.vars.valid %}
                {% set class="has-error" %}
            {% endif %}
            <!--/erreur-->
            <div class="box-body">
                <div class="form-group {{class}} ">
                    <label class="control-label" for="{{form.plainPassword.first.vars.id}}">Mot de passe</label>
                    <input type="password" class="form-control" id="{{form.plainPassword.first.vars.id}}" name="{{ form.plainPassword.first.vars.full_name}}" value="{{ form.plainPassword.first.vars.value}}" placeholder="Entrer votre mot de passe" required>

                    {% do form.plainPassword.first.setRendered %}
                    {% if not form.plainPassword.first.vars.valid %}
                        {% for error in form.plainPassword.first.vars.errors %}
                            <span class="help-block">{{ error.message }}</span>
                        {% endfor %}
                    {% endif%}
                </div>
            </div>

            <!--/Mot de passe -->
            <!--/Répéter Mot de passe -->
            <!-- Ceci pour que le champ devienne en rouge si le contenu est faux -->
            {% set class='' %}
            {% if not form.plainPassword.second.vars.valid %}
                {% set class="has-error" %}
            {% endif %}
            <!--/erreur-->
            <div class="box-body">
                <div class="form-group {{class}} ">
                    <label class="control-label" for="{{form.plainPassword.second.vars.id}}">Mot de passe</label>
                    <input type="password" class="form-control" id="{{form.plainPassword.second.vars.id}}" name="{{ form.plainPassword.second.vars.full_name}}" value="{{ form.plainPassword.second.vars.value}}" placeholder="Répéter votre mot de passe" required>
                    {% do form.plainPassword.second.setRendered %}
                    {% if not form.plainPassword.second.vars.valid %}
                        {% for error in form.plainPassword.second.vars.errors %}
                            <span class="help-block">{{ error.message }}</span>
                        {% endfor %}
                    {% endif%}
                </div>
            </div>
            <!--/Répéter Mot de passe -->


            <div class="box-footer">
                <div class="form-group">

                    <input  class="btn btn-primary" type="submit" value="{{ 'change_password.submit'|trans }}" />
                </div>
            </div>
        </div>
    </div>
</div>

{{ form_end(form) }}
