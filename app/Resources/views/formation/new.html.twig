{% extends "user/layoutadmin.html.twig" %}
{% block fos_user_content %}
    {% block stylesheet %}
        <link rel="stylesheet" href="{{ asset('template/bower_components/bootstrap/dist/css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ asset('template/bower_components/font-awesome/css/font-awesome.min.css') }}">
        <link rel="stylesheet" href="{{ asset('template/bower_components/Ionicons/css/ionicons.min.css') }}">
        <link rel="stylesheet" href="{{ asset('template/dist/css/AdminLTE.min.css') }}">
        <link rel="stylesheet" href="{{ asset('template/dist/css/skins/_all-skins.min.css') }}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    {% endblock %}
    <div class="col-md-6">
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title text-info">Ajouter une formation</h3>
                <a class='btn btn-info btn-xs pull-right' href="{{ path('formation_index') }}"><i class="glyphicon glyphicon-remove "></i></a>
            </div>

            <div class="box-body">
                {{ form_start(form,{'attr':{'novalidate':'novalidate'}})}}

                <!-- le champ Nom-->
                <!-- Ceci pour que le champ devienne en rouge si le contenu est faux -->
                {% set class='' %}
                {% if not form.nomFormation.vars.valid %}
                    {% set class="has-error" %}
                {% endif %}
                <!--/erreur-->
                <div class="form-group {{class}} row" >
                    <div class="col-sm-10">
                        <label class="control-label" for="{{form.nomFormation.vars.id}}">Nom</label>
                        <input type="text" class="form-control" id="{{form.nomFormation.vars.id}}" name="{{ form.nomFormation.vars.full_name}}" value="{{ form.nomFormation.vars.value}}" placeholder="Entrer le nom" required>

                        {% do form.nomFormation.setRendered %}
                        {% if not form.nomFormation.vars.valid %}
                            {% for error in form.nomFormation.vars.errors %}
                                <span class="help-block">{{ error.message }}</span>
                            {% endfor %}
                        {% endif%}
                    </div>
                </div>
                <!--/Nom-->
                <!-- le champ Description -->
                {% set class='' %}
                {% if not form.descriptionFormation.vars.valid %}
                    {% set class="has-error" %}
                {% endif %}

                <div class="form-group {{class}} row" >
                    <div class="col-sm-10">
                        <label class="control-label" for="{{form.descriptionFormation.vars.id}}">Description</label>
                        <textarea type="text" rows="4" class="form-control" id="{{form.descriptionFormation.vars.id}}" name="{{ form.descriptionFormation.vars.full_name}}" placeholder="Entrer la description"></textarea>

                        {% do form.descriptionFormation.setRendered %}
                        {% if not form.descriptionFormation.vars.valid %}
                            {% for error in form.descriptionFormation.vars.errors %}
                                <span class="help-block">{{ error.message }}</span>
                            {% endfor %}
                        {% endif%}
                    </div>
                </div>
                <!--/Description-->
                <!-- le champ Image-->
                {% set class='' %}
                {% if not form.file.vars.valid %}
                    {% set class="has-error" %}
                {% endif %}
                <div class="form-group {{class}} row" >
                    <div class="col-sm-10">
                        <label class="control-label" for="{{form.file.vars.id}}">Image</label>
                        <input type="file" class="form-control" id="{{form.file.vars.id}}" name="{{ form.file.vars.full_name}}" value="{{ form.file.vars.value}}">
                        {% do form.file.setRendered %}
                        {% if not form.file.vars.valid %}
                            {% for error in form.file.vars.errors %}
                                <span class="help-block">{{ error.message }}</span>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
                <!--/Image-->
                <!-- le champ sous service -->
                {% set class='' %}
                {% if not form.id_sous_service.vars.valid %}
                    {% set class="has-error" %}
                {% endif %}

                <div class="form-group {{class}} row" >
                    <div class="col-sm-10">
                        {{ form_label(form.id_sous_service,'Sous service')}}
                        {{ form_widget(form.id_sous_service,{'attr':{'class':'form-control'}}) }}

                        {% do form.id_sous_service.setRendered %}
                        {% if not form.id_sous_service.vars.valid %}
                            {% for error in form.id_sous_service.vars.errors %}
                                <span class="help-block">{{ error.message }}</span>
                            {% endfor %}
                        {% endif%}
                    </div>
                </div>
                <!--/sous service-->

                <div class="box-footer">
                    <input class="btn btn-primary btn-md" type="submit" value="Ajouter" />
                    <a  class='btn btn-warning btn-md' href="{{ path('formation_index')  }}"> Annuler</a>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>

{% endblock %}